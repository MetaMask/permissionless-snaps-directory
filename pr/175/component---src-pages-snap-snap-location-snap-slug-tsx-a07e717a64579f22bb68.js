"use strict";(self.webpackChunk_metamask_snaps_directory=self.webpackChunk_metamask_snaps_directory||[]).push([[607],{89061:function(e,s,n){n.r(s),n.d(s,{Head:function(){return L},default:function(){return P}});var t=n(57747),a=n(22338),i=n(93717),o=n(49289),r=n(29653),l=n(73586),c=n(85893),d=e=>(0,c.jsx)(l.m.div,{className:"chakra-stack__divider",...e,__css:{...e.__css,borderWidth:0,alignSelf:"stretch",borderColor:"inherit",width:"auto",height:"auto"}});d.displayName="StackDivider";var p=n(36286),m=n(33578),x=n(83706),u=n(67760),g=n(89555),j=n(22757),h=n(15785),f=n(34292),v=n(71293),C=n(37109),_=n(67294),y=n(93247),S=n(23078);const b=e=>{let{assertion:s}=e;const n=(0,_.useCallback)((()=>s.currentStatus===S.m.Endorsed?(0,c.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,c.jsx)(m.e0,{width:"20px",fill:"icon.muted",mr:2}),g.ag._({id:"2JoZcp"})]}):(0,c.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,c.jsx)(m.aN,{width:"20px",fill:"icon.muted",mr:2}),g.ag._({id:"4TuLBE"})]})),[s]),a=(0,_.useCallback)((()=>{var e,n;const t=(0,h.Z)(null!==(e=null===(n=s.statusReason)||void 0===n?void 0:n.value)&&void 0!==e?e:[]);if(!t||0===t.length)return"";if(1===t.length)return"for "+t[0];const a=t.pop(),i=g.ag._({id:"HZFm5R"});return"for "+t.join(", ")+" "+i+" "+a}),[s]);return(0,c.jsxs)(f.U,{mb:4,width:"100%",justifyContent:"space-between",children:[(0,c.jsxs)(f.U,{children:[(0,c.jsx)(v.x,{children:n()}),(0,c.jsx)(y.y,{subject:s.issuer}),(0,c.jsx)(v.x,{children:a()})]}),(0,c.jsx)(t.xu,{alignContent:"flex-end",children:(0,c.jsx)(v.x,{color:"icon.muted",children:(0,C.Q)(s.issuanceDate,{addSuffix:!0})})})]})};var k=n(16673),w=n(864);const N=e=>{let{latestChecksum:s}=e;const n=(0,k.v9)((0,w.PN)(s));return n&&0!==n.length?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.i,{mt:"3rem",mb:"2rem"}),(0,c.jsx)(j.X,{as:"h2",fontSize:"2xl",mb:"2rem",children:g.ag._({id:"XJOV1Y"})}),(0,c.jsx)(t.xu,{"data-testid":"activity-section",children:n.map(((e,s)=>(0,c.jsx)(b,{assertion:e},e.snapId+"-"+s)))})]}):null};n(17727);var I=n(4361),M=n(27239),D=n(48783),F=n(32883);const z=e=>{let{snapName:s,options:n,onSign:t,onClose:a,isOpen:i}=e;const{0:o,1:r}=(0,_.useState)(!1),{0:l,1:d}=(0,_.useState)([]);return(0,c.jsx)(m.J6,{isOpen:i,isLoading:o,mode:"positive",headerIcon:(0,c.jsx)(m.R,{fill:"info.default"}),buttonText:g.ag._({id:"1q/k4Z"}),onClose:a,onSignButtonClick:()=>{r(!0),t(l).finally((()=>{r(!1)}))},children:(0,c.jsx)(M.M,{children:(0,c.jsxs)(D.g,{textAlign:"center",fontSize:"md",children:[(0,c.jsx)(v.x,{fontWeight:"medium",children:(0,c.jsx)(I.cC,{id:"FfnJo0"})}),(0,c.jsxs)(v.x,{noOfLines:2,fontWeight:"regular",as:"span",children:[(0,c.jsx)(I.cC,{id:"4KFts/",values:{snapName:s},components:{0:(0,c.jsx)(v.x,{variant:"blue",as:"span"})}})," ",(0,c.jsx)(F.r,{children:(0,c.jsx)(I.cC,{id:"zwWKhA"})})]}),(0,c.jsx)(m.vL,{options:n,onChange:e=>{d(n.filter(((s,n)=>e[n])))}})]})})})};var T=n(10274),W=n(86007),A=n(72861);const E=e=>{let{address:s,snapChecksum:n,snapName:t}=e;const{signMessage:a,signError:i,snapVCBuilder:o}=(0,k.MS)(),r=(0,k.v9)((0,w.kR)(n,s)),l=(0,k.v9)((0,w.S)(n,s)),{0:d,1:p}=(0,_.useState)(!1),{0:x,1:u}=(0,_.useState)(l);(0,_.useEffect)((()=>{u(l)}),[l]);const j=(0,k.I0)(),{showSuccessMsg:h,showErrorMsg:f}=(0,W.Z)();(0,T.C)(i);const v=[g.ag._({id:"3Ypq0g"}),g.ag._({id:"outFNZ"}),g.ag._({id:"OYyc/x"})];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(m.zv,{onClick:()=>p(!0),endorsed:x,isDisabled:x||null!==r}),d&&(0,c.jsx)(z,{snapName:t,options:v,isOpen:d,onClose:()=>p(!1),onSign:async e=>{const i=o.buildEndorsedPayload(s,n,e),r=await a(i);if(r){const e=o.getSignedAssertion(i,r);j((0,A.Q)(e)).then((e=>{e.type.endsWith("fulfilled")?(j((0,A.l)(n)).catch((e=>console.log(e))),u(!0),h({title:g.ag._({id:"zzDlyQ"}),description:g.ag._({id:"kD8F0f",values:{snapName:t}})})):f({title:g.ag._({id:"SlfejT"}),description:g.ag._({id:"+gPAqQ",values:{snapName:t}})})})).catch((()=>{f({title:g.ag._({id:"SlfejT"}),description:g.ag._({id:"+gPAqQ",values:{snapName:t}})})}))}p(!1)}})]})},O=e=>{let{snapName:s,options:n,onSign:t,onClose:a,isOpen:i}=e;const{0:o,1:r}=(0,_.useState)(!1),{0:l,1:d}=(0,_.useState)([]);return(0,c.jsx)(m.J6,{isOpen:i,isLoading:o,mode:"negative",headerIcon:(0,c.jsx)(m.wb,{fill:"error.default"}),buttonText:g.ag._({id:"XXFn/n"}),onClose:a,onSignButtonClick:()=>{r(!0),t(l).finally((()=>{r(!1)}))},children:(0,c.jsx)(M.M,{children:(0,c.jsxs)(D.g,{textAlign:"center",fontSize:"md",children:[(0,c.jsx)(v.x,{fontWeight:"medium",children:(0,c.jsx)(I.cC,{id:"jPrBv0"})}),(0,c.jsxs)(v.x,{noOfLines:2,as:"span",children:[(0,c.jsx)(I.cC,{id:"VUxD4k",values:{snapName:s},components:{0:(0,c.jsx)(v.x,{variant:"blue",as:"span"})}})," ",(0,c.jsx)(F.r,{children:(0,c.jsx)(I.cC,{id:"zwWKhA"})})]}),(0,c.jsx)(m.vL,{options:n,onChange:e=>{d(n.filter(((s,n)=>!0===e[n])))}})]})})})},B=e=>{let{address:s,snapChecksum:n,snapName:t}=e;const{signMessage:a,signError:i,snapVCBuilder:o}=(0,k.MS)(),r=o.getIssuerDid(s),l=(0,k.v9)((0,w.kR)(n,r)),d=(0,k.v9)((0,w.U)(n,r)),{0:p,1:x}=(0,_.useState)(!1),{0:u,1:j}=(0,_.useState)(d);(0,_.useEffect)((()=>{j(d)}),[d]);const h=(0,k.I0)(),{showSuccessMsg:f,showErrorMsg:v}=(0,W.Z)();(0,T.C)(i);const C=[g.ag._({id:"hx872x"}),g.ag._({id:"2VFrSq"})];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(m.f4,{onClick:()=>x(!0),reported:u,isDisabled:u||l===S.m.Disputed}),p&&(0,c.jsx)(O,{snapName:t,options:C,isOpen:p,onClose:()=>x(!1),onSign:async e=>{const i=o.buildDisputedPayload(s,n,e),r=await a(i);if(r){const e=o.getSignedAssertion(i,r);h((0,A.Q)(e)).then((async e=>{e.type.endsWith("fulfilled")?(h((0,A.l)(n)).catch((e=>console.log(e))),j(!0),f({title:g.ag._({id:"zzDlyQ"}),description:g.ag._({id:"4qs+Lf",values:{snapName:t}})})):v({title:g.ag._({id:"SlfejT"}),description:g.ag._({id:"idKc0V",values:{snapName:t}})})})).catch((()=>{v({title:g.ag._({id:"SlfejT"}),description:g.ag._({id:"idKc0V",values:{snapName:t}})})}))}x(!1)}})]})},L=e=>{let{data:s}=e;const n=s.snap.name+" on the MetaMask Snaps Directory",t="Customize your web3 experience with "+s.snap.name+".",a=""+s.site.siteMetadata.siteUrl+s.snap.banner.publicURL;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("html",{lang:"en"}),(0,c.jsx)("title",{children:n}),(0,c.jsx)("meta",{name:"description",content:t}),(0,c.jsx)("meta",{property:"og:title",content:s.snap.name}),(0,c.jsx)("meta",{property:"og:site_name",content:s.site.siteMetadata.title}),(0,c.jsx)("meta",{property:"og:description",content:t}),(0,c.jsx)("meta",{property:"og:type",content:"website"}),(0,c.jsx)("meta",{name:"og:image",content:a}),(0,c.jsx)("meta",{name:"og:image:width",content:"1200"}),(0,c.jsx)("meta",{name:"og:image:height",content:"630"}),(0,c.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,c.jsx)("meta",{name:"twitter:creator",content:s.site.siteMetadata.author}),(0,c.jsx)("meta",{name:"twitter:title",content:s.snap.name}),(0,c.jsx)("meta",{name:"twitter:description",content:t}),(0,c.jsx)("meta",{name:"twitter:image",content:a})]})};var P=e=>{let{data:s}=e;const{name:n,snapId:l,icon:g,website:j,onboard:h,description:f,latestVersion:v,latestChecksum:C,category:_,permissions:y}=s.snap,{data:S}=(0,u.xP)(),b=Boolean(null==S?void 0:S[l]),{address:k,isConnected:w}=(0,p.mA)();return(0,c.jsxs)(t.xu,{position:"relative",children:[(0,c.jsx)(t.xu,{pointerEvents:"none",position:"absolute",top:"-50%",width:"100%",height:"75%",sx:{background:'url("'+g+'") no-repeat center center',backgroundSize:"cover",filter:"blur(96px) saturate(1.2)",opacity:"0.25"}}),(0,c.jsxs)(a.W,{maxWidth:"container.xl",paddingTop:"0",marginTop:"20",children:[(0,c.jsx)(u.vW,{snapId:l,version:v}),(0,c.jsxs)(i.k,{flexDirection:["column",null,"row"],justifyContent:"space-between",alignItems:"center",gap:"6",children:[(0,c.jsx)(u.yl,{name:n,icon:g,snapId:l}),(0,c.jsxs)(i.k,{alignItems:"center",gap:"4",width:["100%",null,"auto"],children:[w&&k&&(0,c.jsx)(B,{snapName:n,snapChecksum:C,address:k}),w&&k&&(0,c.jsx)(E,{snapName:n,snapChecksum:C,address:k}),!h&&(0,c.jsx)(m.vU,{snapId:l,name:n,icon:g,website:j,version:v}),(b||h)&&j&&(0,c.jsx)(m.gD,{snapId:l,website:j})]})]}),(0,c.jsx)(o.i,{marginY:"8"}),(0,c.jsx)(u.SF,{snap:s.snap}),(0,c.jsx)(o.i,{marginTop:"8",marginBottom:"12"}),(0,c.jsxs)(r.K,{direction:["column",null,null,"row"],divider:(0,c.jsx)(d,{}),marginTop:"2",marginBottom:"12",spacing:"8",children:[(0,c.jsx)(u.dk,{name:n,description:f}),(0,c.jsx)(u.Pl,{snap:s.snap,permissions:y})]}),(0,c.jsx)(N,{latestChecksum:C}),_&&_!==x.pN.AccountManagement&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.i,{my:"12"}),(0,c.jsx)(u.Dt,{snapId:l,category:_})]})]})]})}}}]);
//# sourceMappingURL=component---src-pages-snap-snap-location-snap-slug-tsx-a07e717a64579f22bb68.js.map