"use strict";(self.webpackChunk_metamask_snaps_directory=self.webpackChunk_metamask_snaps_directory||[]).push([[956,218],{32513:function(e,t,s){s.r(t),s.d(t,{Head:function(){return u}});var n=s(4361),i=s(22338),a=s(22757),r=s(54769),o=s(11883),c=s(59605),d=s(8203),l=s(85893);const u=e=>{let{data:t}=e;const s="Page not found - "+t.site.siteMetadata.title,n=""+t.site.siteMetadata.siteUrl+(0,o.withPrefix)(c.Z);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("html",{lang:"en"}),(0,l.jsx)("title",{children:s}),(0,l.jsx)("meta",{name:"description",content:t.site.siteMetadata.description}),(0,l.jsx)("meta",{property:"og:title",content:"Page not found"}),(0,l.jsx)("meta",{property:"og:site_name",content:t.site.siteMetadata.title}),(0,l.jsx)("meta",{property:"og:description",content:t.site.siteMetadata.description}),(0,l.jsx)("meta",{property:"og:type",content:"website"}),(0,l.jsx)("meta",{name:"og:image",content:n}),(0,l.jsx)("meta",{name:"og:image:width",content:"1200"}),(0,l.jsx)("meta",{name:"og:image:height",content:"630"}),(0,l.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,l.jsx)("meta",{name:"twitter:creator",content:t.site.siteMetadata.author}),(0,l.jsx)("meta",{name:"twitter:title",content:s}),(0,l.jsx)("meta",{name:"twitter:description",content:t.site.siteMetadata.description}),(0,l.jsx)("meta",{name:"twitter:image",content:n})]})};t.default=()=>(0,l.jsxs)(i.W,{display:"flex",flexDirection:"column",marginY:"12",alignItems:"center",textAlign:"center",maxWidth:"container.md",children:[(0,l.jsx)(d.iQ,{}),(0,l.jsx)(a.X,{as:"h1",fontSize:["2xl","4xl","5xl"],marginY:"6",lineHeight:"116%",children:(0,l.jsx)(n.cC,{id:"t+RSJR"})}),(0,l.jsx)(o.Link,{to:"/",children:(0,l.jsx)(r.z,{variant:"primary",children:(0,l.jsx)(n.cC,{id:"iWpEwy"})})})]})},34221:function(e,t,s){s.r(t),s.d(t,{Head:function(){return Y},default:function(){return q}});var n=s(89555),i=s(57747),a=s(22338),r=s(48783),o=s(34292),c=s(11883),d=s(67294),l=s(36286),u=s(59605),g=s(85893);s(51037);var x=s(22757),m=s(73586),p=e=>(0,g.jsx)(m.m.circle,{cx:50,cy:50,r:42,fill:"transparent",...e});p.displayName="Circle";var h=s(70917);var j=(0,h.F4)({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}}),f=(0,h.F4)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}});(0,h.F4)({"0%":{left:"-40%"},"100%":{left:"100%"}}),(0,h.F4)({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});var v=e=>{const{size:t,isIndeterminate:s,...n}=e;return(0,g.jsx)(m.m.svg,{viewBox:"0 0 100 100",__css:{width:t,height:t,animation:s?`${f} 2s linear infinite`:void 0},...n})};v.displayName="Shape";var b=(0,s(16554).G)(((e,t)=>{var s;const{size:n="48px",max:i=100,min:a=0,valueText:r,getValueText:o,value:c,capIsRound:d,children:l,thickness:u="10px",color:x="#0078d4",trackColor:h="#edebe9",isIndeterminate:f,...b}=e,y=function(e){const{value:t=0,min:s,max:n,valueText:i,getValueText:a,isIndeterminate:r,role:o="progressbar"}=e,c=function(e,t,s){return 100*(e-t)/(s-t)}(t,s,n);return{bind:{"data-indeterminate":r?"":void 0,"aria-valuemax":n,"aria-valuemin":s,"aria-valuenow":r?void 0:t,"aria-valuetext":(()=>{if(null!=t)return"function"==typeof a?a(t,c):i})(),role:o},percent:c,value:t}}({min:a,max:i,value:c,valueText:r,getValueText:o,isIndeterminate:f}),S=f?void 0:2.64*(null!=(s=y.percent)?s:0),_=f?{css:{animation:`${j} 1.5s linear infinite`}}:{strokeDashoffset:66,strokeDasharray:null==S?void 0:`${S} ${264-S}`,transitionProperty:"stroke-dasharray, stroke",transitionDuration:"0.6s",transitionTimingFunction:"ease"},w={display:"inline-block",position:"relative",verticalAlign:"middle",fontSize:n};return(0,g.jsxs)(m.m.div,{ref:t,className:"chakra-progress",...y.bind,...b,__css:w,children:[(0,g.jsxs)(v,{size:n,isIndeterminate:f,children:[(0,g.jsx)(p,{stroke:h,strokeWidth:u,className:"chakra-progress__track"}),(0,g.jsx)(p,{stroke:x,strokeWidth:u,className:"chakra-progress__indicator",strokeLinecap:d?"round":void 0,opacity:0!==y.value||f?void 0:0,..._})]}),l]})}));b.displayName="CircularProgress";var y=s(66403),S=s(8371),_=s(16673),w=s(39282);let k=function(e){return e.SoftwareDevelopment="SoftwareDevelopment",e.SoftwareSecurity="SoftwareSecurity",e}({}),C=function(e){return e.Developer="developer",e.Auditor="auditor",e.Reported="reported",e}({});const A=e=>{let{address:t}=e;const{accountVCBuilder:s}=(0,_.MS)(),i=s.getSubjectDid(t),a=(0,_.v9)((0,w.Yk)(i)),r=[];a.forEach((e=>{if(e.result>=0)if(e.trustScoreScope===k.SoftwareDevelopment){const e={roleType:C.Developer,tier:0};r.push(e)}else{let t=0;void 0!==e.accuracy&&(e.accuracy>=.99?t=1:e.accuracy>=.9?t=2:e.accuracy>=.75&&(t=3));const s={roleType:C.Auditor,tier:t};r.push(s)}else{const e={roleType:C.Reported,tier:0};r.push(e)}}));const c=e=>{switch(e.roleType){case C.Developer:return"🧑‍💻";case C.Auditor:switch(e.tier){case 1:return"🥇";case 2:return"🥈";case 3:return"🥉";default:return""}default:return"👹"}};return(0,g.jsx)(o.U,{spacing:"2",alignItems:"center",children:r.map(((e,t)=>{const s=(e=>{switch(e.roleType){case C.Developer:return{bg:"#FFDC5B40",color:"#FFC700",label:n.ag._({id:"7aDnUb"})};case C.Reported:return{bg:"#D738471A",color:"#D73847",label:n.ag._({id:"kbEGLp"})};default:return{bg:"#72398E40",color:"#AE00FF",label:n.ag._({id:"epycHz"})}}})(e);return(0,g.jsxs)(S.Vp,{variant:"user",bg:s.bg,borderRadius:"full",children:[(0,g.jsx)(S.Sn,{children:c(e)}),(0,g.jsx)(S.Sn,{color:s.color,children:s.label})]},t)}))})};s(17727);var M=s(4361),D=s(27239),I=s(71293),T=s(32883),F=s(49321),z=s(8203),E=s(10274),P=s(86007),L=s(55076),W=s(46688);const V=e=>{let{subjectAddress:t}=e;const{addToUserModalOpen:s}=(0,_.v9)((e=>e.accountProfile)),i=(0,_.I0)(),{0:a,1:o}=(0,d.useState)(!1),{issuerAddress:c,signMessage:l,signError:u,accountVCBuilder:x}=(0,_.MS)();(0,E.C)(u);const{showSuccessMsg:m}=(0,P.Z)(),p=(0,d.useMemo)((()=>(0,L.nQ)(t)),[t]),h=(0,d.useCallback)((()=>{if(!c)return;if(!(0,F.U)(t))return;o(!0);const e=x.buildAccountTrust(c,t);l(e).then((s=>{if(s){const a=x.getSignedAssertion(e,s);console.log("assertion",a),m({title:n.ag._({id:"e48kVj"}),description:n.ag._({id:"fS6r0V",values:{shortSubAddress:p}})}),i((0,W.p2)(t)),i((0,W.l_)(!1))}})).finally((()=>{o(!1)}))}),[c,t]);return(0,g.jsx)(z.J6,{isOpen:s,mode:"positive",onClose:()=>i((0,W.l_)(!1)),headerIcon:(0,g.jsx)(z.gF,{}),buttonText:n.ag._({id:"wdcfDL"}),isLoading:a,onSignButtonClick:h,children:(0,g.jsx)(D.M,{children:(0,g.jsxs)(r.g,{textAlign:"center",children:[(0,g.jsx)(I.x,{fontSize:"md",fontWeight:"bold",children:(0,g.jsx)(M.cC,{id:"bblMhV",values:{shortSubAddress:p},components:{0:(0,g.jsx)(I.x,{variant:"blue",as:"span"})}})}),(0,g.jsxs)(I.x,{fontSize:"sm",noOfLines:2,children:["Lorem ipsum dolor description of what it means to add a user to your trust circle."," ",(0,g.jsx)(T.r,{children:(0,g.jsx)(M.cC,{id:"zwWKhA"})})]})]})})})},R=e=>{let{reportEntity:t,options:s,onSign:i,onClose:a,visibility:o}=e;const{0:c,1:l}=(0,d.useState)(!1),{0:u,1:x}=(0,d.useState)([]);return(0,g.jsx)(z.J6,{isOpen:o,isLoading:c,mode:"negative",headerIcon:(0,g.jsx)(z.wb,{}),buttonText:n.ag._({id:"XXFn/n"}),onClose:a,onSignButtonClick:()=>{l(!0),i(u).finally((()=>{l(!1)}))},children:(0,g.jsx)(D.M,{children:(0,g.jsxs)(r.g,{textAlign:"center",fontSize:"md",children:[(0,g.jsx)(I.x,{fontWeight:"medium",children:(0,g.jsx)(M.cC,{id:"p4F68h",values:{reportEntity:t},components:{0:(0,g.jsx)(I.x,{variant:"blue",as:"span"})}})}),(0,g.jsxs)(I.x,{noOfLines:2,as:"span",children:[(0,g.jsx)(M.cC,{id:"RL5LxW"})," ",(0,g.jsx)(T.r,{children:(0,g.jsx)(M.cC,{id:"zwWKhA"})})]}),(0,g.jsx)(z.vL,{options:s,onChange:e=>{x(s.filter(((t,s)=>!0===e[s])))}})]})})})};var Z=s(15785),Q=s(73552);const B=e=>{let{trustEntity:t,options:s,onSign:a,onClose:o,visibility:c}=e;const{0:l,1:u}=(0,d.useState)(!1),{0:x,1:m}=(0,d.useState)(s.map((()=>!1)));return(0,g.jsx)(z.J6,{isOpen:c,isLoading:l,mode:"positive",headerIcon:(0,g.jsx)(z.gF,{}),buttonText:n.ag._({id:"c+Fnce"}),onClose:o,onSignButtonClick:()=>{u(!0);const e=[];x.forEach(((t,n)=>{var i;t&&e.push(null===(i=s[n])||void 0===i?void 0:i.value)})),a(e).finally((()=>{u(!1)}))},children:(0,g.jsx)(D.M,{children:(0,g.jsxs)(r.g,{fontSize:"md",children:[(0,g.jsx)(I.x,{fontWeight:"medium",textAlign:"center",children:(0,g.jsx)(M.cC,{id:"IwtAw0"})}),(0,g.jsx)(I.x,{textAlign:"center",children:(0,g.jsx)(M.cC,{id:"fextrZ",values:{trustEntity:t},components:{0:(0,g.jsx)(I.x,{variant:"blue",as:"span"})}})}),s.map(((e,t)=>(0,g.jsx)(i.xu,{background:"background.default",padding:"1rem",borderRadius:"1rem",width:"100%",mt:"1rem",children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Q.X,{size:"md",borderRadius:"0.25rem",padding:"0.012rem",marginInline:"1",value:e.value,onChange:e=>((e,t)=>{x[t]=e,m((0,Z.Z)(x))})(e.target.checked,t),children:(0,g.jsx)(I.x,{children:e.label})}),e.description&&(0,g.jsx)(I.x,{fontSize:"xs",children:e.description})]})},t)))]})})})},N=e=>{let{address:t}=e;const{data:s,isLoading:n}=(0,l.F6)({address:t,chainId:y.R.id}),{isConnected:i}=(0,l.mA)();return(0,g.jsxs)(r.g,{spacing:"8","data-testid":"account-info",children:[(0,g.jsxs)(o.U,{children:[(0,g.jsx)(z.IP,{address:t,size:130}),(0,g.jsx)(A,{address:t})]}),(0,g.jsxs)(o.U,{children:[(0,g.jsx)(x.X,{as:"h3",fontSize:"3xl",color:"text.alternative",textAlign:"center",children:n?(0,g.jsx)(b,{value:80,"data-testid":"account-info-loading"}):null!=s?s:(0,L.nQ)(t)}),i&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)($,{subjectAddress:t}),(0,g.jsx)(V,{subjectAddress:t})]})]})]})};var U=s(78985),J=s(25120);const O=e=>{let{address:t,connectedAddress:s}=e;const{data:i}=(0,l.F6)({address:t,chainId:y.R.id}),{signMessage:a,signError:r,accountVCBuilder:o}=(0,_.MS)(),c=(0,d.useMemo)((()=>(0,L.nQ)(t)),[t]),u=o.getSubjectDid(t),x=o.getSubjectDid(s),m=(0,_.v9)((0,J.QQ)(u,x)),p=(0,_.v9)((0,J.k$)(u,x)),h=null!=i?i:c,{0:j,1:f}=(0,d.useState)(!1),{0:v,1:b}=(0,d.useState)(p);(0,d.useEffect)((()=>{b(p)}),[p]);const S=(0,_.I0)(),{showSuccessMsg:w,showErrorMsg:k}=(0,P.Z)();(0,E.C)(r);const C=[n.ag._({id:"SKscGZ"}),n.ag._({id:"iznBqK"}),n.ag._({id:"EyQMHI"}),n.ag._({id:"Dc4FWe"}),n.ag._({id:"/IX/7x"})];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(z.f4,{onClick:()=>f(!0),reported:v,isDisabled:v||void 0!==m&&m<0}),j&&(0,g.jsx)(R,{reportEntity:h,visibility:j,onClose:()=>f(!1),options:C,onSign:async e=>{const i=o.buildReportAccountTrust(s,t,e),r=await a(i);if(r){const e=o.getSignedAssertion(i,r);S((0,U.o)(e)).then((e=>{e.type.endsWith("fulfilled")?(S((0,U.Z)(u)).catch((e=>console.log(e))),b(!0),w({title:n.ag._({id:"zzDlyQ"}),description:n.ag._({id:"F0uWtP",values:{pkhAddress:u}})})):k({title:n.ag._({id:"SlfejT"}),description:n.ag._({id:"oVL5zv",values:{pkhAddress:u}})})})).catch((()=>{k({title:n.ag._({id:"SlfejT"}),description:n.ag._({id:"oVL5zv",values:{pkhAddress:u}})})}))}f(!1)}})]})};var H=s(8573);const X=e=>{let{address:t,connectedAddress:s}=e;const{data:i}=(0,l.F6)({address:t,chainId:y.R.id}),{signMessage:a,signError:r,accountVCBuilder:o}=(0,H.M)(),c=(0,d.useMemo)((()=>(0,L.nQ)(t)),[t]),u=o.getSubjectDid(t),x=o.getSubjectDid(s),m=(0,_.v9)((0,J.QQ)(u,x)),p=(0,_.v9)((0,J.L$)(u,x)),h=null!=i?i:c,{0:j,1:f}=(0,d.useState)(!1),{0:v,1:b}=(0,d.useState)(p);(0,d.useEffect)((()=>{b(p)}),[p]);const S=(0,_.I0)(),{showSuccessMsg:w,showErrorMsg:k}=(0,P.Z)();(0,E.C)(r);const C=[{label:n.ag._({id:"wIb7Ng"}),description:n.ag._({id:"71KIfp"}),value:L.Sy.SoftwareDevelopment},{label:n.ag._({id:"Zjm4eo"}),description:n.ag._({id:"z1Ji0P"}),value:L.Sy.SoftwareSecurity}];return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(z.zv,{onClick:()=>f(!0),endorsed:v,isDisabled:v||void 0!==m}),j&&(0,g.jsx)(B,{trustEntity:h,visibility:j,onClose:()=>f(!1),options:C,onSign:async e=>{const i=o.buildTechnicalExpertiseTrust(s,t,(e=>{const t=new Set(e);return C.map((e=>({scope:e.value,level:t.has(e.value)?1:0})))})(e)),r=await a(i);if(r){const e=o.getSignedAssertion(i,r);S((0,U.o)(e)).then((e=>{e.type.endsWith("fulfilled")?(S((0,U.Z)(u)).catch((e=>console.log(e))),b(!0),w({title:n.ag._({id:"zzDlyQ"}),description:n.ag._({id:"jmmtNJ",values:{pkhAddress:u}})})):k({title:n.ag._({id:"SlfejT"}),description:n.ag._({id:"cle6Nm",values:{pkhAddress:u}})})})).catch((()=>{k({title:n.ag._({id:"SlfejT"}),description:n.ag._({id:"cle6Nm",values:{pkhAddress:u}})})}))}f(!1)}})]})},$=e=>{let{subjectAddress:t}=e;const{userAccount:s}=(0,_.v9)((e=>e.accountProfile)),i=(0,_.I0)(),{chain:a}=(0,l.LN)(),{address:r}=(0,l.mA)(),{showSuccessMsg:o,showErrorMsg:c}=(0,P.Z)(),u=(0,d.useCallback)((()=>{navigator.clipboard.writeText(window.location.origin+"/account/?address="+t).then((()=>{o({title:n.ag._({id:"6V3Ea3"}),description:n.ag._({id:"T4qWIH"})})})).catch((()=>{c({title:n.ag._({id:"SlfejT"}),description:n.ag._({id:"JJPmxk"})})}))}),[t,c,o]),x=(0,d.useCallback)((()=>{var e,t;window.open((null==a||null===(e=a.blockExplorers)||void 0===e||null===(t=e.etherscan)||void 0===t?void 0:t.url)+"/address/"+r)}),[a,r]),m=(0,d.useMemo)((()=>r!==t&&!s.userCircle.includes(t)),[r,t,s]);return(0,g.jsxs)(z.dc,{icon:(0,g.jsx)(z.jA,{}),children:[m&&(0,g.jsx)(z.Pw,{icon:(0,g.jsx)(z.gx,{}),label:n.ag._({id:"rAO1kz"}),testId:"add-to-circle",onClick:()=>i((0,W.l_)(!0))}),(0,g.jsx)(z.Pw,{icon:(0,g.jsx)(z.aA,{}),label:n.ag._({id:"odV8U+"}),testId:"copy-profile-link",onClick:()=>{u()}}),(0,g.jsx)(z.Pw,{icon:(0,g.jsx)(z.ty,{}),label:n.ag._({id:"nS3bjC"}),testId:"etherscan",onClick:()=>x()})]})};var K=s(96005),G=s(32513);const Y=e=>{let{data:t}=e;const s=n.ag._({id:"Ay/P5p"}),i=n.ag._({id:"5fPx0e"}),a=n.ag._({id:"M0QmOE"}),r=""+t.site.siteMetadata.siteUrl+(0,c.withPrefix)(u.Z);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("html",{lang:"en"}),(0,g.jsx)("title",{children:i}),(0,g.jsx)("meta",{name:"description",content:a}),(0,g.jsx)("meta",{property:"og:title",content:s}),(0,g.jsx)("meta",{property:"og:site_name",content:t.site.siteMetadata.title}),(0,g.jsx)("meta",{property:"og:description",content:a}),(0,g.jsx)("meta",{property:"og:type",content:"website"}),(0,g.jsx)("meta",{name:"og:image",content:r}),(0,g.jsx)("meta",{name:"og:image:width",content:"1200"}),(0,g.jsx)("meta",{name:"og:image:height",content:"630"}),(0,g.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,g.jsx)("meta",{name:"twitter:creator",content:t.site.siteMetadata.author}),(0,g.jsx)("meta",{name:"twitter:title",content:s}),(0,g.jsx)("meta",{name:"twitter:description",content:a}),(0,g.jsx)("meta",{name:"twitter:image",content:r})]})};var q=e=>{let{location:t}=e;const{address:s,isConnected:n}=(0,l.mA)(),c=new URLSearchParams(t.search),u=(0,L.Cy)(c.get("address")),{accountVCBuilder:x}=(0,_.MS)(),m=(0,_.I0)();(0,d.useEffect)((()=>{if(u){const e=x.getIssuerDid(u);m((0,U.Z)(e)).catch((e=>console.log(e))),m((0,K.T)(e)).catch((e=>console.log(e)))}}),[m,x,u]);const p=u===s;return u?(0,g.jsx)(i.xu,{position:"relative","data-testid":"account-info",mt:"4rem",children:(0,g.jsx)(a.W,{maxWidth:"container.xl",paddingTop:"0",position:"relative",children:(0,g.jsxs)(r.g,{spacing:"8",children:[(0,g.jsx)(N,{address:u}),(0,g.jsx)(o.U,{children:n&&!p&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(O,{address:u,connectedAddress:s}),(0,g.jsx)(X,{address:u,connectedAddress:s})]})})]})})}):(0,g.jsx)(G.default,{})}},59605:function(e,t,s){t.Z=s.p+"static/home-3da7273f125d0f7c0add3b849d33e152.png"}}]);
//# sourceMappingURL=component---src-pages-account-index-tsx-e83a32e99c92a1e95e6e.js.map